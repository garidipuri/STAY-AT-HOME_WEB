<ion-header>
  <ion-toolbar color="sah-primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home/messages"></ion-back-button>
    </ion-buttons>
    <ion-title >{{chatMember.displayName}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
<ion-grid>
  <ion-row *ngFor="let message of messages">
    <ion-col size='9' *ngIf="curruntUser !== message.userId" >
      <!-- <b>{{message.userName}}</b><br> -->
      <ion-card class="message other-message">
        <span>{{message.message}}</span><br>
        <div class="time ion-text-right">
          {{message.timestamp | date: 'short'}}
        </div>
      </ion-card>
    </ion-col>

    <ion-col offset='3' size='9' *ngIf="curruntUser === message.userId">
      <!-- <b>{{message.userName}}</b><br> -->
      <ion-card class="message my-message">
        <span>{{message.message}}</span><br>
        <div class="time ion-text-right">
          {{message.timestamp | date: 'short'}}
        </div>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>

</ion-content>
  <ion-footer>
    <ion-toolbar  color="sah-secondary"  >
      <ion-grid>
        <ion-row>
          <ion-col size='10'>
            <textarea autosize maxRows='4' placeholder="type message here..." color="sah-secondary" [(ngModel)]='newMsg' class="msg-input"></textarea>
          </ion-col>
          <ion-col size='2'>
            <ion-button expand='block' fill='clear' color='sah-primary' [disabled]="newMsg === ''" class="msg-btn" (click)="sendMessage()">
              <ion-icon name="send" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-toolbar>
  </ion-footer>
